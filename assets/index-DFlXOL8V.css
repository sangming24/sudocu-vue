:root{color-scheme:light dark;--c-primary: #007bff;--c-primary-soft: #cfe2ff;--c-primary-light: #c1dcff;--c-bg: #ffffff;--c-text: #222;--c-border: #aaa;--c-border-strong: #000;--c-error-bg: #fbb;--c-error-border: #d00;--c-muted: #f5f5f5;--r-sm: 4px;--r-md: 6px;--r-lg: 14px;--c-related-bg: #f2f6ff;--c-memo-text: #666;--c-memo-highlight: var(--c-primary)}*{word-break:keep-all;box-sizing:border-box}body{margin:0;background:var(--c-bg);color:var(--c-text)}.page-wrapper{min-height:100dvh;display:flex;justify-content:center;align-items:flex-start}.container{min-width:320px;padding:12px 4px;display:flex;flex-direction:column;align-items:center;gap:8px}h2{margin:4px 0;font-size:clamp(18px,4vw,24px)}.controls{min-width:280px;display:flex;flex-wrap:wrap;justify-content:center;gap:4px}.controls button{padding:5px 12px;border-radius:var(--r-md);border:1px solid var(--c-primary);background:var(--c-primary);color:#fff;font-size:14px;cursor:pointer}.controls button:hover{background:#0056b3}.mode-select{color-scheme:light dark;height:30px;padding:0 28px 0 10px;font-size:14px;border-radius:var(--r-md);border:1px solid var(--c-border);background-color:var(--c-muted);color:var(--c-text);appearance:none;cursor:pointer;background-image:linear-gradient(45deg,transparent 50%,currentColor 50%),linear-gradient(135deg,currentColor 50%,transparent 50%);background-position:calc(100% - 16px) 55%,calc(100% - 11px) 55%;background-size:5px 5px;background-repeat:no-repeat}.mode-select:focus{outline:none;border-color:var(--c-primary);box-shadow:0 0 3px #007bff80}.game-status{display:flex;align-items:center;gap:10px;font-size:14px}.game-status button{padding:4px 10px;border-radius:var(--r-md);border:1px solid #555;background:var(--c-muted);cursor:pointer}.board{position:relative;margin-bottom:12px}.board.is-paused{pointer-events:none}.board.is-paused:after{content:"⏸ 일시정지";position:absolute;inset:0;background:#ffffffa6;display:flex;align-items:center;justify-content:center;font-size:clamp(18px,4vw,26px);font-weight:700;z-index:10}.board table{width:min(92vw,92vh);max-width:420px;aspect-ratio:1 / 1;border-collapse:collapse;table-layout:fixed;line-height:0}.board td{border:1px solid var(--c-border);position:relative;padding:0}.board td:nth-child(3),.board td:nth-child(6){border-right:2px solid var(--c-border-strong)}.board tr:nth-child(3) td,.board tr:nth-child(6) td{border-bottom:2px solid var(--c-border-strong)}.cell{width:100%;height:100%;aspect-ratio:1 / 1;display:flex;align-items:center;justify-content:center;position:relative}.cell__value{font-size:clamp(14px,2.8vw,20px);font-weight:700;color:var(--c-primary)}.cell__value.is-problem{color:#000}.cell__input{position:absolute;inset:0;opacity:0;background:transparent;color:transparent;caret-color:transparent;border:none;pointer-events:auto}.cell__memo{position:absolute;inset:0;display:grid;grid-template-columns:repeat(3,1fr);font-size:clamp(7px,1.8vw,12px);pointer-events:none}.cell__memo span{color:var(--c-memo-text);display:flex;align-items:center;justify-content:center}.cell__memo span.is-memo-highlighted{background:var(--c-memo-highlight);font-weight:700;border-radius:2px}.cell.is-selected{background:var(--c-primary-soft);box-shadow:inset 0 0 0 2px var(--c-primary)}.cell.is-highlighted{background:var(--c-primary-light)}.cell.is-related{background:var(--c-related-bg)}.cell.is-error{background:var(--c-error-bg);box-shadow:inset 0 0 0 2px var(--c-error-border)}.cell.is-error .cell__value{color:red}.board.is-paused .cell__value,.board.is-paused .cell__memo{visibility:hidden}.board.is-paused .cell.is-error{background:transparent!important;box-shadow:none!important}.is-locked{pointer-events:none;opacity:.6}.tracker{width:min(92vw,92vh);max-width:420px}.tracker-header{display:flex;justify-content:flex-end;margin-bottom:8px}.tracker-memo{padding:6px 10px;border-radius:var(--r-md);background:var(--c-muted);border:1px solid #aaa;cursor:pointer}.tracker-memo.is-active{background:var(--c-primary-soft);border-color:var(--c-primary);font-weight:700}.tracker-list{display:flex}.tracker-item{flex:1;display:flex;flex-direction:column;align-items:center}.tracker-item.is-used{visibility:hidden}.tracker-number{width:36px;aspect-ratio:1 / 1;background:#d0e7ff;border-radius:var(--r-sm);display:flex;align-items:center;justify-content:center;font-weight:700}.tracker-dots{display:grid;grid-template-columns:repeat(5,1fr);gap:2px;margin-top:3px}.dot{width:5px;height:5px;background:var(--c-primary);border-radius:50%}.success-overlay{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:1000}.success-box{background:#fff;padding:24px 28px;border-radius:var(--r-lg);text-align:center;animation:pop .35s ease-out}.confetti{position:absolute;inset:0;pointer-events:none;overflow:hidden}.confetti span{position:absolute;top:-10%;width:8px;height:8px;background-color:hsl(var(--h),80%,60%);animation:confetti-fall 1.8s linear forwards}@keyframes confetti-fall{to{transform:translateY(120vh) rotate(360deg);opacity:0}}@keyframes pop{0%{transform:scale(.85);opacity:0}to{transform:scale(1);opacity:1}}@media(max-width:400px){.controls button,.mode-select{font-size:13px;padding:4px 8px}.dot{width:4px;height:4px}}@media(prefers-color-scheme:dark){:root:not([data-theme]){color-scheme:dark;--c-primary: #4dabff;--c-primary-soft: rgba(77, 171, 255, .28);--c-primary-light: rgba(77, 171, 255, .18);--c-bg: radial-gradient(circle at top, #181818 0%, #101010 60%, #0c0c0c 100%);--c-text: #e0e0e0;--c-border: rgba(255, 255, 255, .18);--c-border-strong: rgba(255, 255, 255, .28);--c-error-bg: rgba(255, 80, 80, .22);--c-error-border: #ff6b6b;--c-muted: #1e1e1e;--c-related-bg: rgba(77, 171, 255, .08);--c-memo-text: #b5c7ff;--c-memo-highlight: #4dabff}:root:not([data-theme]) .controls button{background:var(--c-primary);border-color:var(--c-primary);color:#081826}:root:not([data-theme]) .mode-select{color-scheme:dark}:root:not([data-theme]) body{background:var(--c-bg);color:var(--c-text)}}:root[data-theme=dark]{color-scheme:dark;--c-primary: #4dabff;--c-primary-soft: rgba(77, 171, 255, .28);--c-primary-light: rgba(77, 171, 255, .18);--c-bg: radial-gradient(circle at top, #181818 0%, #101010 60%, #0c0c0c 100%);--c-text: #e0e0e0;--c-border: rgba(255, 255, 255, .18);--c-border-strong: rgba(255, 255, 255, .28);--c-error-bg: rgba(255, 80, 80, .22);--c-error-border: #ff6b6b;--c-muted: #1e1e1e;--c-related-bg: rgba(77, 171, 255, .08);--c-memo-text: #b5c7ff;--c-memo-highlight: #4dabff}:root[data-theme=dark] body{background:var(--c-bg);color:var(--c-text)}:root[data-theme=dark] .controls button{background:var(--c-primary);border-color:var(--c-primary);color:#081826}:root[data-theme=dark] .controls button:hover{background:#39f}:root[data-theme=dark] .mode-select{color-scheme:dark;background-color:#1e1e1e;color:var(--c-text);border-color:#444;background-image:linear-gradient(45deg,transparent 50%,#aaa 50%),linear-gradient(135deg,#aaa 50%,transparent 50%)}:root[data-theme=dark] .mode-select:focus{border-color:var(--c-primary);box-shadow:0 0 4px #4dabff99}:root[data-theme=dark] .game-status button{background:#1e1e1e;border-color:#555;color:var(--c-text)}:root[data-theme=dark] .board.is-paused:after{background:#000000a6;color:#ddd}:root[data-theme=dark] .board td{border-color:var(--c-border)}:root[data-theme=dark] .board td:nth-child(3),:root[data-theme=dark] .board td:nth-child(6),:root[data-theme=dark] .board tr:nth-child(3) td,:root[data-theme=dark] .board tr:nth-child(6) td{border-color:var(--c-border-strong)}:root[data-theme=dark] .cell__value{color:#7fc1ff}:root[data-theme=dark] .cell__value.is-problem{color:#e6e6e6}:root[data-theme=dark] .cell.is-selected{background:var(--c-primary-soft);box-shadow:inset 0 0 0 2px var(--c-primary)}:root[data-theme=dark] .cell.is-highlighted{background:var(--c-primary-light)}:root[data-theme=dark] .cell.is-related{background:var(--c-related-bg)}:root[data-theme=dark] .cell.is-error{background:var(--c-error-bg);box-shadow:inset 0 0 0 2px var(--c-error-border)}:root[data-theme=dark] .cell.is-error .cell__value{color:#ffb3b3}:root[data-theme=dark] .tracker-memo{background:#1e1e1e;border-color:#444;color:var(--c-text)}:root[data-theme=dark] .tracker-memo.is-active{background:var(--c-primary-soft);border-color:var(--c-primary)}:root[data-theme=dark] .tracker-number{background:#1f3a5c;color:#dce9ff}:root[data-theme=dark] .dot{background:var(--c-primary)}:root[data-theme=dark] .success-box{background:linear-gradient(180deg,#242424,#1a1a1a);box-shadow:0 20px 40px #0009,inset 0 1px #ffffff0d}html,body{margin:0;padding:0;height:auto;overflow-y:auto;-webkit-overflow-scrolling:touch;font-family:Arial,sans-serif;background-color:#fff}
